<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Carrinho Suspenso - Crian√ßas/Adultos + Divis√≥ria</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    /* RESET / BASE */
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
      background: #f9f9f9;
      color: #333;
    }

    /* CARRINHO FIXO NA DIREITA */
    .cart-container {
      position: fixed;
      top: 0; 
      right: 0;
      width: 380px;
      height: 100vh;
      background: #fff;
      border-left: 1px solid #ddd;
      display: flex;
      flex-direction: column;
      z-index: 1000;
    }
    /* HEADER DO CARRINHO */
    .cart-header {
      padding: 1rem;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .cart-header h2 {
      margin: 0;
      font-size: 0.95rem;
      font-weight: 600;
    }
    .timer-info {
      font-size: 0.75rem;
      color: #2a942f;
      background: #ebfaeb;
      border: 1px solid #c8eac7;
      border-radius: 6px;
      padding: 0.3rem 0.5rem;
    }

    /* CORPO DO CARRINHO */
    .cart-body {
      flex: 1;
      overflow-y: auto;
      padding: 1rem;
      background: #fafafa;
    }
    .section-title {
      font-size: 0.85rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #444;
    }

    /* ITEM CARD */
    .cart-item {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 1rem;
      margin-bottom: 1rem;
      position: relative;
    }
    .cart-item:hover {
      box-shadow: 0 2px 6px rgba(0,0,0,0.06);
    }
    .trash-btn {
      position: absolute;
      top: 10px; 
      right: 10px;
      background: none;
      border: none;
      font-size: 1rem;
      color: #999;
      cursor: pointer;
      transition: color 0.2s;
    }
    .trash-btn:hover {
      color: #e00;
    }
    /* Tag ‚ÄúINGRESSOS‚Äù */
    .tag-ingresso {
      display: inline-block;
      background: #ffefcc;
      color: #ff9900;
      border: 1px solid #ffd899;
      font-size: 0.65rem;
      padding: 2px 6px;
      border-radius: 12px;
      text-transform: uppercase;
      margin-bottom: 0.4rem;
    }
    .item-title {
      font-weight: 600;
      margin: 0.2rem 0;
      color: #333;
      font-size: 0.9rem;
    }

    /* Data + √≠cone */
    .item-date {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 0.8rem;
      color: #666;
      margin: 0.3rem 0;
    }
    .item-date i {
      display: inline-block;
      width: 16px;
      height: 16px;
      background: url('data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNjY2IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHdpZHRoPSIxMnB4IiBoZWlnaHQ9IjEycHgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTkgM0gxMFYxSDEyVjNMOSAzWk0yIDNIMFYxSDEyVjNIMTBWMS41QzEwIDEuMjI4IDkuNzcxIDEgOS41IDFWMC41QzkuNS4yMjkgOS4yMjggMCA5IDBIM0MwLjIyOSAwIDAgMC4yMjkgMCAwLjVWMWMwIC4yMjguMjI5IDEgLjUgMUg2LjI3QzYuMjgzIDEuMDU5IDYuMjk1IDEuMTEzIDYuMyAxLjE4OEw1LjYyMiAxLjM0NyA1IDIuN1YzWiI+PC9wYXRoPjwvc3ZnPg==') no-repeat center/contain;
    }

    /* Adultos / Crian√ßas com +/‚Äì no meio e divis√≥ria */
    .item-quantities {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 0.5rem;
      font-size: 0.8rem;
      color: #666;
      position: relative;
    }
    .quant-block {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .icon-child, .icon-adult {
      width:16px; height:16px;
      background-repeat: no-repeat;
      background-position: center;
      background-size: contain;
    }
    .icon-child {
      background-image: url('data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNjY2IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHdpZHRoPSIxMnB4IiBoZWlnaHQ9IjEycHgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUgMy4yQzUuNSAzLjIgNiAzLjYgNiA0LjIgNiA0LjggNS41IDUuMiA1IDUuMkMzLjkgNS4yIDMuMiA0LjUgMy4yIDMuMiAzLjIgMi45IDMuNCAyLjUgMy43IDIuNUg0LjNDNC43IDIuNSA1IDIuNyA1IDMuMiI+PC9wYXRoPjwvc3ZnPg==');
    }
    .icon-adult {
      background-image: url('data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNjY2IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHdpZHRoPSIxMnB4IiBoZWlnaHQ9IjEycHgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUgM2MwLS41LjUtMSAxLTFzMSAuNSAxIDFjMCAuNi0uNSAxLTEgMXMtMS0uNC0xLSAxem0tMyAxMC4yaDMuMmMwLS43LjQtMS4yIDEuMy0xLjV2LS44YzAtLjMtLjItLjYtLjUtLjggLS45LS40LTEuMy0uOC0xLjMtMi4yIDAtLjkuNy0xLjUgMS41LTEuNXMuOS42LjkgMS41YzAgMS40LS40IDEuOC0xLjMgMi4yLS4zLjItLjUuNS0uNS44di44YzAgLjUgLjUgMS4yIDEuNSAxLjJoMy4yYy41IDAgMS0uNCAxLS45IDAtMi4xLTIuNC0zLTMuNy0zLS4xIDAtLjMuMS0uNC4yLS44LjctMiAxLjItMy4yIDEuMi0yLjYgMC00LjcgMS42LTQuNyAzLjMgMCAuNS41LjkgMSAuOS45IDAgMS44LjggMy40IDIuMWMuMy4yLjUuNC43LjYuMy4zLjQuNi40LjkgMCAxLjMtLjkgMi4yLTEuNSAyLjItMS44IDAtMy43LjktMy43IDJsLjIuN3oiPjwvcGF0aD48L3N2Zz4=');
    }
    .divider {
      width: 1px;
      background: #ccc;
      height: 30px;
      margin: 0 8px;
    }

    .quant-box {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    .plusminus-btn {
      width: 24px;
      height: 24px;
      border: 1px solid #ccc;
      border-radius: 4px;
      background: #fff;
      cursor: pointer;
      font-size: 0.8rem;
      transition: background 0.2s;
    }
    .plusminus-btn:hover {
      background: #f2f2f2;
    }

    /* PRE√áO NO CANTO INFERIOR + ‚Äúat√© 10x sem juros‚Äù */
    .item-price {
      position: absolute;
      right: 1rem;
      bottom: 1.2rem;
      font-weight: 600;
      font-size: 0.85rem;
      color: #333;
      text-align: right;
    }
    .installment-info {
      font-size: 0.7rem;
      color: #999;
      margin-top: 2px;
    }

    /* SUBTOTAL, DESCONTO, TOTAL */
    .price-line {
      display: flex;
      justify-content: space-between;
      font-size: 0.85rem;
      margin-bottom: 0.2rem;
    }
    .price-line .green {
      color: #2a942f;
      font-weight: 600;
    }
    .total-line {
      display: flex;
      justify-content: space-between;
      font-weight: 600;
      margin: 0.5rem 0 1rem;
    }
    .checkout-btn {
      width: 100%;
      background: #35b473;
      border: none;
      color: #fff;
      font-size: 0.9rem;
      border-radius: 6px;
      padding: 0.7rem;
      cursor: pointer;
      transition: background 0.2s;
    }
    .checkout-btn:hover {
      background: #2d9e64;
    }

    /* RODAP√â DO CARRINHO */
    .cart-footer {
      border-top: 1px solid #eee;
      padding: 1rem;
      background: #fff;
    }
    .footer-actions {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
      align-items: center;
      margin-bottom: 0.5rem;
    }
    .footer-actions input {
      flex: 1;
      min-width: 0;
      padding: 0.3rem;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 0.85rem;
    }
    .footer-actions .btn-mini {
      background: #007bff;
      color: #fff;
      border: none;
      border-radius: 20px;
      padding: 0.4rem 0.8rem;
      font-size: 0.75rem;
      cursor: pointer;
      transition: background 0.2s;
    }
    .footer-actions .btn-mini:hover {
      background: #005bb5;
    }
    .footer-actions .btn-mini-danger {
      background: #d93025;
    }
    .footer-actions .btn-mini-danger:hover {
      background: #b0241a;
    }
  </style>
</head>
<body>

<div class="cart-container">
  <!-- Cabe√ßalho do carrinho -->
  <div class="cart-header">
    <h2>Resumo do pedido</h2>
    <span class="timer-info" id="timerValue">01:02</span>
  </div>

  <!-- Corpo do carrinho -->
  <div class="cart-body">
    <div class="section-title">Ingressos</div>

    <!-- Card do item -->
    <div class="cart-item">
      <button class="trash-btn" onclick="removeItem()">üóë</button>
      <span class="tag-ingresso">INGRESSOS</span>
      <div class="item-title">WALT DISNEY WORLD - INGRESSO 1 DIA MAGIC KINGDOM [1 dia]</div>

      <!-- Data c/ icone -->
      <div class="item-date">
        <i></i>
        <span id="dateVal">2025-04-12</span>
      </div>

      <!-- Adultos / Crian√ßas ‚Äúna mesma linha‚Äù com √≠cones e divis√≥ria -->
      <div class="item-quantities">
        <!-- Crian√ßas -->
        <div class="quant-block">
          <span class="icon-child"></span>
          <div class="quant-box">
            <button class="plusminus-btn" onclick="decChildren()">-</button>
            <span id="childCount">0</span>
            <button class="plusminus-btn" onclick="incChildren()">+</button>
          </div>
        </div>

        <!-- Divis√≥ria vertical -->
        <div class="divider"></div>

        <!-- Adultos -->
        <div class="quant-block">
          <span class="icon-adult"></span>
          <div class="quant-box">
            <button class="plusminus-btn" onclick="decAdults()">-</button>
            <span id="adultCount">1</span>
            <button class="plusminus-btn" onclick="incAdults()">+</button>
          </div>
        </div>

        <!-- Pre√ßo e 10x no canto -->
        <div class="item-price" id="priceVal">
          R$ 100,00
          <div class="installment-info">at√© 10x sem juros</div>
        </div>
      </div>
    </div>

    <!-- Subtotal, desconto, total -->
    <div class="price-line">
      <span>Subtotal</span>
      <span id="subtotalValue">R$ 100,00</span>
    </div>
    <div class="price-line">
      <span>Desconto</span>
      <span class="green" id="discountValue">- R$ 0,00</span>
    </div>
    <div class="total-line">
      <span>Total do pedido</span>
      <span id="totalValue">R$ 100,00</span>
    </div>
    <button class="checkout-btn">Ir para o checkout</button>
  </div>

  <!-- Rodap√© do carrinho -->
  <div class="cart-footer">
    <div class="footer-actions">
      <input type="text" id="affiliateId" value="aff123" placeholder="Affiliate">
      <input type="text" id="agentId" value="agt567" placeholder="Agent">
    </div>
    <div class="footer-actions">
      <button class="btn-mini" onclick="shareCart()">Compartilhar</button>
      <button class="btn-mini btn-mini-danger" onclick="clearCart()">Limpar</button>
    </div>
  </div>
</div>

<script>
  // Exemplo local sem DB
  let item = {
    children: 0,
    adults: 1,
    basePriceAdult: 100,
    basePriceChild: 60
  };

  function renderItem(){
    document.getElementById("childCount").textContent = item.children;
    document.getElementById("adultCount").textContent = item.adults;
    const total = item.adults*item.basePriceAdult + item.children*item.basePriceChild;
    document.getElementById("priceVal").innerHTML = 
      `R$ ${total.toLocaleString('pt-BR',{minimumFractionDigits:2})}
       <div class="installment-info">at√© 10x sem juros</div>`;
    document.getElementById("subtotalValue").textContent = "R$ " + total.toLocaleString('pt-BR',{minimumFractionDigits:2});
    document.getElementById("discountValue").textContent = "- R$ 0,00";
    document.getElementById("totalValue").textContent = "R$ " + total.toLocaleString('pt-BR',{minimumFractionDigits:2});
  }
  function incChildren(){ item.children++; renderItem(); }
  function decChildren(){ if(item.children>0) item.children--; renderItem(); }
  function incAdults(){ item.adults++; renderItem(); }
  function decAdults(){ if(item.adults>0) item.adults--; renderItem(); }
  function removeItem(){
    item.children=0; item.adults=0;
    renderItem();
    alert("Item removido.");
  }
  function shareCart(){ alert("POST /shareCart"); }
  function clearCart(){ item.children=0; item.adults=0; renderItem(); alert("Limpo."); }
  window.onload = renderItem;
</script>
</body>
</html>

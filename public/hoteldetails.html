<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detalhes do Hotel</title>
  <!-- Font Awesome e outros recursos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-daterangepicker/3.1.0/daterangepicker.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    /* RESET E ESTILOS BASE */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }
    body {
      background-color: #f0f2f5;
      color: #333;
      line-height: 1.6;
    }
    .main-container {
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    /* Cabeçalho do Hotel */
    .hotel-header {
      margin-bottom: 20px;
    }
    .hotel-name {
      font-size: 2em;
      font-weight: bold;
      color: #333;
    }
    .hotel-address {
      display: flex;
      align-items: center;
      font-size: 1em;
      color: #666;
      margin-top: 10px;
    }
    .hotel-address i {
      color: #0071e3;
      margin-right: 10px;
    }
    .location-link {
      color: #0071e3;
      text-decoration: none;
      margin-left: 10px;
      font-weight: bold;
    }
    .location-link:hover {
      text-decoration: underline;
      color: #005bb5;
    }
    /* Galeria de Fotos */
    .photo-gallery {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr;
      grid-template-rows: repeat(2, 200px);
      gap: 10px;
      margin-bottom: 20px;
    }
    .photo-gallery img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .photo-gallery .large-photo {
      grid-row: 1 / 3;
    }
    /* Comodidades */
    .facilities {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 20px;
      margin-top: 20px;
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    .facility {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 15px;
      background-color: #fff;
      border-radius: 10px;
      border: 1px solid #ddd;
      text-align: center;
      transition: box-shadow 0.3s;
    }
    .facility i {
      font-size: 1.5em;
      color: #0071e3;
      margin-right: 10px;
    }
    .facility:hover {
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    /* Descrição e Destaques */
    .description-container {
      display: flex;
      gap: 20px;
      margin-top: 20px;
    }
    .description {
      flex: 2;
      padding: 20px;
      border-right: 1px solid #e0e0e0;
    }
    .highlights {
      flex: 1;
      padding: 20px;
      background-color: #e9f7fe;
      border-radius: 8px;
      border: 2px solid #007bff;
    }
    .highlights h2 {
      font-size: 1.8em;
      color: #007bff;
      margin-bottom: 10px;
      text-align: center;
      font-weight: bold;
    }
    .highlights h3 {
      margin: 15px 0;
      color: #343a40;
    }
    .highlight-list {
      list-style: none;
      padding: 0;
      margin-bottom: 20px;
    }
    .highlight-list li {
      margin-bottom: 8px;
      padding-left: 30px;
      position: relative;
      color: #555;
      font-size: 1.1em;
    }
    .highlight-list li i {
      position: absolute;
      left: 0;
      color: #007bff;
      font-size: 1.2em;
    }
    .button {
      display: block;
      padding: 12px 20px;
      margin-top: 20px;
      background: #007bff;
      color: white;
      text-align: center;
      text-decoration: none;
      border-radius: 5px;
      transition: background 0.3s;
      font-size: 1.1em;
      font-weight: bold;
    }
    .button:hover {
      background: #0056b3;
    }
    /* Search Bar */
    .search-bar-container {
      display: flex;
      align-items: center;
      gap: 15px;
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      margin-top: 20px;
    }
    .search-fields {
      display: flex;
      align-items: center;
      gap: 15px;
      flex: 1;
    }
    .input-group {
      display: flex;
      flex-direction: column;
      gap: 5px;
      flex: 1;
    }
    .input-group label {
      font-size: 12px;
      color: #555;
      margin-left: 5px;
    }
    input[type="text"], input[type="number"], select {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 16px;
      color: #333;
    }
    .search-button {
      background-color: #0071e3;
      color: #fff;
      border: none;
      padding: 15px 30px;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      flex-shrink: 0;
      height: 56px;
      font-size: 16px;
    }
    .search-button:hover {
      background-color: #005bb5;
    }
    /* Tabela de Quartos */
    .room-table {
      width: 100%;
      margin-top: 20px;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }
    .room-table-header {
      display: grid;
      grid-template-columns: 3fr 1fr 2fr 1fr;
      background-color: #e9efff;
      padding: 15px;
      font-weight: bold;
      color: #333;
      text-align: center;
    }
    .room-table-row {
      display: grid;
      grid-template-columns: 3fr 1fr 2fr 1fr;
      padding: 15px;
      align-items: center;
      border-bottom: 1px solid #ddd;
    }
    .room-info {
      display: flex;
      gap: 15px;
      align-items: center;
    }
    .room-image {
      width: 150px;
      height: 100px;
      border-radius: 10px;
      object-fit: cover;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    .room-details {
      display: flex;
      flex-direction: column;
    }
    .room-details h4 {
      margin-bottom: 10px;
      font-size: 1.2em;
      color: #0071e3;
    }
    .room-details p {
      margin: 5px 0;
      color: #666;
    }
    .room-price {
      font-size: 1.5em;
      font-weight: bold;
      color: #333;
      text-align: center;
    }
    .price-info {
      text-align: center;
      font-size: 0.8em;
      color: #666;
    }
    .discount-price {
      font-size: 0.8em;
      font-weight: bold;
      color: #0071e3;
      margin: 0;
      padding: 0;
    }
    .installment-price {
      font-size: 0.8em;
      color: #666;
    }
    .select-room-button {
      background-color: #0071e3;
      color: #fff;
      padding: 10px 20px;
      border-radius: 5px;
      text-align: center;
      cursor: pointer;
      transition: background-color 0.3s;
      font-size: 1em;
      border: none;
    }
    .select-room-button:hover {
      background-color: #005bb5;
    }
    /* Informações Adicionais */
    .info-container {
      margin-top: 20px;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
    }
    .info-block {
      flex: 1;
      min-width: 230px;
      margin: 10px;
      padding: 20px;
      background-color: #ffffff;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s;
    }
    .info-block h3 {
      font-size: 1.2em;
      color: #0071e3;
      font-weight: 600;
    }
    .info-block p {
      font-size: 1em;
      color: #555;
    }
    /* Mapa e Atrações */
    .container {
      display: flex;
      width: 100%;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      border-radius: 10px;
      background-color: #fff;
      margin-top: 20px;
    }
    .attractions {
      width: 35%;
      padding: 15px;
      max-height: 400px;
      overflow-y: auto;
      background-color: #fff;
      border: 1px solid #f2f2f2;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      margin-right: 20px;
      display: flex;
      flex-direction: column;
    }
    #map {
      height: 400px;
      width: 65%;
    }
    .attraction-item {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      padding: 10px;
      background-color: #f9f9f9;
      border: 1px solid #ddd;
      border-radius: 5px;
      transition: background-color 0.3s;
      font-size: 16px;
      width: 100%;
    }
    .attraction-item:hover {
      background-color: #e0f7fa;
    }
    .attraction-item i {
      margin-right: 10px;
      color: #007AFF;
      font-size: 20px;
    }
    h2 {
      text-align: center;
      color: #333;
      margin-bottom: 20px;
    }
    footer {
      text-align: center;
      margin-top: 20px;
      color: #666;
    }
  </style>
</head>
<body>
  <div class="main-container" id="hotelDetail">
    <!-- Cabeçalho do Hotel -->
    <div class="hotel-header">
      <div class="hotel-name" id="hotelName"><!-- Nome do hotel será inserido aqui --></div>
      <div class="hotel-address" id="hotelAddress">
        <!-- Endereço do hotel e link para mapa serão inseridos aqui -->
      </div>
    </div>

    <!-- Galeria de Fotos (dinâmica) -->
    <div class="photo-gallery" id="photoGallery">
      <!-- As imagens serão inseridas dinamicamente -->
    </div>

    <!-- Seção de Comodidades (dinâmica) -->
    <section class="facilities" id="facilities">
      <!-- Os itens de comodidades serão inseridos aqui -->
    </section>

    <!-- Descrição e Destaques -->
    <div class="description-container">
      <div class="description" id="hotelDescription">
        <!-- A descrição do hotel será inserida aqui -->
      </div>
      <div class="highlights" id="hotelHighlights">
        <!-- Os destaques da acomodação serão inseridos aqui -->
      </div>
    </div>

    <!-- Barra de Busca (opcional ou para atualização de disponibilidade) -->
    <div class="search-bar-container" id="searchBar">
      <div class="search-fields">
        <div class="input-group">
          <label for="checkin-checkout">Datas</label>
          <input type="text" id="checkin-checkout" placeholder="Check-in - Check-out">
        </div>
        <div class="input-group">
          <label for="rooms">Quartos</label>
          <input type="number" id="rooms" placeholder="Nº de Quartos" min="1" max="10" value="1">
        </div>
        <div class="input-group">
          <label for="adults">Adultos (+18 Anos)</label>
          <input type="number" id="adults" placeholder="Nº de Adultos" min="1" max="10" value="1">
        </div>
        <div class="input-group">
          <label for="children">Crianças (0 a 17 anos)</label>
          <input type="number" id="children" placeholder="Nº de Crianças" min="0" max="10" value="0">
        </div>
      </div>
      <button class="search-button" onclick="updateRoomList()">Pesquisar</button>
    </div>

    <!-- Tabela de Quartos (dinâmica) -->
    <section class="room-table" id="roomTable">
      <div class="room-table-header">
        <div>Tipo de Quarto</div>
        <div>Hóspedes</div>
        <div>Preço para <span id="num-noites">0</span> Noites</div>
        <div></div>
      </div>
      <div class="room-table-body" id="roomTableBody">
        <!-- As linhas com informações dos quartos serão inseridas dinamicamente -->
      </div>
    </section>

    <!-- Informações adicionais (check-in, check-out, taxas, etc.) -->
    <div class="info-container" id="infoContainer">
      <!-- Blocos de informações serão inseridos dinamicamente -->
    </div>

    <!-- Mapa Interativo e Atrações -->
    <div class="container" id="mapAttractionsContainer">
      <div class="attractions" id="attractions">
        <h2>Atrações</h2>
        <!-- Os itens de atração serão inseridos dinamicamente -->
      </div>
      <div id="map">
        <!-- O mapa será inicializado aqui -->
      </div>
    </div>
  </div>

  <!-- Inclusão de scripts externos -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-daterangepicker/3.1.0/daterangepicker.min.js"></script>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Variável global para número de noites (usada na atualização dos preços dos quartos)
      let numNoites = 1;
    
      // Função simulada de chamada à API – substitua por uma chamada real (fetch, axios, etc.)
      function fetchHotelDetails() {
        // Exemplo de resposta (substitua com os dados reais da sua API)
        return Promise.resolve({
          hotel: {
            name: "Sheraton Buenos Aires Hotel & Convention Center",
            address: "San Martin 1225, Retiro, 1004 Buenos Aires, Argentina",
            latitude: -34.6037,   // Exemplo: coordenadas de Buenos Aires
            longitude: -58.3816,
            description: `<p>O hotel oferece acomodações de alto padrão com uma localização privilegiada. 
                          Desfrute de ambientes sofisticados, serviços exclusivos e uma excelente gastronomia.</p>`,
            highlights: {
              accommodation: ["Vista da piscina", "Estacionamento privativo"],
              activities: ["Academia", "Salão de jogos", "Fitness"]
            },
            photos: [
              "https://media.staticontent.com/media/pictures/ed84e4bc-56ce-453f-be91-90f87e7974da/1120x472",
              "https://media.staticontent.com/media/pictures/6daae66c-04e7-4202-9b67-54a075bec0ec/1120x472",
              "https://media.staticontent.com/media/pictures/294e5119-39f2-4bdc-9656-0fed66957942",
              "https://media.staticontent.com/media/pictures/3da2583f-f837-4cdd-89d1-c3babf9d6e11",
              "https://media.staticontent.com/media/pictures/e94f34fa-213e-434c-aa39-c79aac61c79a"
            ],
            facilities: ["Wi-fi", "Pool", "Gym", "Parking", "Café da manhã"],
            rooms: [
              {
                type: "Premier Deluxe Room",
                image: "https://blog.discoveruniversal.com/wp-content/uploads/2018/11/05_Universals-Endless-Summer-Resort-Surfside-Inn-and-Suites-Guest-Room.jpg",
                details: ["1 cama de casal grande", "Wi-Fi grátis", "TV de tela plana"],
                maxGuests: 3,
                price: 340
              },
              {
                type: "Super Deluxe Room",
                image: "https://www.optur.com.br/wp-content/uploads/2019/08/surfside-inn-and-suites-bedroom.jpg",
                details: ["2 camas de solteiro", "Acesso ao spa", "Café da manhã incluso"],
                maxGuests: 2,
                price: 520
              }
            ],
            info: {
              checkin: "A partir das 16h",
              checkout: "Até 11:00",
              resortFee: "Não possui no local.",
              parking: "24.95 USD por dia de hospedagem, pagos diretamente ao hotel!"
            },
            attractions: [
              { name: "Walt Disney World", distance: "10 min", coordinates: [28.4171, -81.5857] },
              { name: "Universal Studios", distance: "7 min", coordinates: [28.4712, -81.4694] },
              { name: "SeaWorld", distance: "6 min", coordinates: [28.4192, -81.4668] },
              { name: "Discovery Cove", distance: "5 min", coordinates: [28.4140, -81.4678] },
              { name: "Premium Outlet", distance: "15 min", coordinates: [28.4728, -81.4513] }
            ]
          }
        });
      }
    
      // Função que preenche os containers do template com os dados da API
      function loadHotelDetails(data) {
        const hotel = data.hotel;
        // Cabeçalho
        document.getElementById('hotelName').textContent = hotel.name;
        document.getElementById('hotelAddress').innerHTML = `<i class="fas fa-map-marker-alt"></i> ${hotel.address} <a href="#" class="location-link">Ver mapa</a>`;
        
        // Galeria de Fotos
        fillPhotoGallery(hotel.photos);
    
        // Comodidades
        fillFacilities(hotel.facilities);
    
        // Descrição
        document.getElementById('hotelDescription').innerHTML = hotel.description;
    
        // Destaques
        fillHighlights(hotel.highlights);
    
        // Tabela de Quartos
        createRoomTable(hotel.rooms);
    
        // Informações adicionais
        fillInfoBlocks(hotel.info);
    
        // Mapa e Atrações
        initMapAndAttractions(hotel.latitude, hotel.longitude, hotel.attractions);
      }
    
      // Preenche a galeria de fotos (limita a 5 imagens, com a primeira em destaque)
      function fillPhotoGallery(photos) {
        const gallery = document.getElementById('photoGallery');
        gallery.innerHTML = "";
        if (!photos || photos.length === 0) return;
        // Primeira imagem como destaque (classe "large-photo")
        const largeImg = document.createElement('img');
        largeImg.src = photos[0];
        largeImg.alt = "Foto do Hotel";
        largeImg.classList.add("large-photo");
        gallery.appendChild(largeImg);
        // As demais imagens (até 4)
        for (let i = 1; i < photos.length && i < 5; i++) {
          const img = document.createElement('img');
          img.src = photos[i];
          img.alt = "Foto do Hotel";
          gallery.appendChild(img);
        }
      }
    
      // Preenche a seção de comodidades usando o facilitiesMap (exibe no máximo 3)
      function fillFacilities(facilities) {
        const facilitiesContainer = document.getElementById('facilities');
        facilitiesContainer.innerHTML = "";
        if (!facilities || facilities.length === 0) return;
        const priorityFacilities = ["Wi-fi", "Gym", "Pool", "Parking"];
        facilities.sort((a, b) => {
          const aIndex = priorityFacilities.findIndex(p => a.toLowerCase().includes(p.toLowerCase()));
          const bIndex = priorityFacilities.findIndex(p => b.toLowerCase().includes(p.toLowerCase()));
          if (aIndex === -1 && bIndex === -1) return 0;
          if (aIndex === -1) return 1;
          if (bIndex === -1) return -1;
          return aIndex - bIndex;
        });
        const facArr = facilities.slice(0, 3);
        facArr.forEach(facility => {
          let foundKey = null;
          if (window.facilitiesMap && window.facilitiesMap[facility]) {
            foundKey = facility;
          } else if (window.facilitiesMap) {
            for (const k in window.facilitiesMap) {
              if (facility.toLowerCase().includes(k.toLowerCase())) {
                foundKey = k;
                break;
              }
            }
          }
          let html = "";
          if (foundKey) {
            const found = window.facilitiesMap[foundKey];
            html = `<div class="facility">${found.svg} ${found.pt}</div>`;
          } else {
            html = `<div class="facility"><i class="fas fa-check"></i> ${facility}</div>`;
          }
          facilitiesContainer.innerHTML += html;
        });
      }
    
      // Preenche os destaques (opções e atividades)
      function fillHighlights(highlights) {
        const container = document.getElementById('hotelHighlights');
        container.innerHTML = "";
        if (!highlights) return;
        let html = `<h2>Destaques da Acomodação</h2>`;
        if (highlights.accommodation && highlights.accommodation.length) {
          html += `<div class="options"><h3>Opções com:</h3><ul class="highlight-list">`;
          highlights.accommodation.forEach(item => {
            html += `<li><i class="fas fa-check"></i> ${item}</li>`;
          });
          html += `</ul></div>`;
        }
        if (highlights.activities && highlights.activities.length) {
          html += `<div class="activities"><h3>Atividades:</h3><ul class="highlight-list">`;
          highlights.activities.forEach(item => {
            html += `<li><i class="fas fa-check"></i> ${item}</li>`;
          });
          html += `</ul></div>`;
        }
        container.innerHTML = html;
      }
    
      // Cria a tabela de quartos com base nos dados dos quartos
      function createRoomTable(rooms) {
        const tableBody = document.getElementById('roomTableBody');
        tableBody.innerHTML = "";
        if (!rooms || rooms.length === 0) return;
        rooms.forEach(room => {
          const row = document.createElement('div');
          row.className = "room-table-row";
          row.setAttribute("data-max-guests", room.maxGuests);
          // Room info (imagem e detalhes)
          const infoDiv = document.createElement('div');
          infoDiv.className = "room-info";
          infoDiv.innerHTML = `
            <img src="${room.image}" alt="${room.type}" class="room-image">
            <div class="room-details">
              <h4>${room.type}</h4>
              ${room.details.map(detail => `<p><i class="fas fa-check"></i> ${detail}</p>`).join("")}
            </div>
          `;
          // Número de hóspedes
          const guestsDiv = document.createElement('div');
          guestsDiv.className = "room-guests";
          guestsDiv.textContent = room.maxGuests + " Hóspedes";
          // Preço – inicializa com preço base (1 noite, 1 quarto)
          const priceDiv = document.createElement('div');
          priceDiv.className = "room-price";
          priceDiv.setAttribute("data-price", room.price);
          const totalPrice = room.price; 
          priceDiv.innerHTML = `
            <p class="discount-price">R$ <span class="pix-price">${totalPrice.toFixed(2)}</span> <br>
            <span style="font-size: 0.8em; color: green;">Super desconto no Pix</span></p>
            <div class="price-info">
              <p>ou R$ <span class="installment-price">${(totalPrice / 10).toFixed(2)}</span> em até 10x sem juros</p>
              <div class="daily-price-container">
                <p style="font-weight: normal;">Preço por diária: R$ <span>${totalPrice.toFixed(2)}</span></p>
              </div>
            </div>
          `;
          // Botão de seleção do quarto
          const buttonDiv = document.createElement('div');
          buttonDiv.innerHTML = `<button class="select-room-button">Selecionar Quarto</button>`;
          // Monta a linha e adiciona à tabela
          row.appendChild(infoDiv);
          row.appendChild(guestsDiv);
          row.appendChild(priceDiv);
          row.appendChild(buttonDiv);
          tableBody.appendChild(row);
        });
      }
    
      // Preenche os blocos de informações adicionais (check-in, check-out, taxas, estacionamento)
      function fillInfoBlocks(info) {
        const container = document.getElementById('infoContainer');
        container.innerHTML = "";
        if (!info) return;
        const infoItems = [
          { title: "Horário de Check-in (Entrada)", icon: "fas fa-clock", content: info.checkin },
          { title: "Horário de Check-out (Saída)", icon: "fas fa-clock", content: info.checkout },
          { title: "Resort Fee (Taxa Local)", icon: "fas fa-info-circle", content: info.resortFee },
          { title: "Estacionamento do Hotel", icon: "fas fa-car", content: info.parking }
        ];
        infoItems.forEach(item => {
          const block = document.createElement('div');
          block.className = "info-block";
          block.innerHTML = `
            <h3><i class="${item.icon}" style="margin-right: 8px;"></i> ${item.title}</h3>
            <p>${item.content}</p>
          `;
          container.appendChild(block);
        });
      }
    
      // Inicializa o mapa com a localização do hotel e adiciona os marcadores para as atrações
      function initMapAndAttractions(lat, lng, attractions) {
        var map = L.map('map').setView([lat, lng], 14);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          maxZoom: 19,
          attribution: '&copy; OpenStreetMap contributors'
        }).addTo(map);
        // Ícone do hotel
        var hotelIcon = L.icon({
          iconUrl: 'https://produtos.magictraveltur.com/wp-content/uploads/2024/10/Hotel-icon.png',
          iconSize: [40, 40],
          iconAnchor: [20, 40],
          popupAnchor: [0, -30]
        });
        var marker = L.marker([lat, lng], { icon: hotelIcon }).addTo(map);
        marker.bindPopup(`<b>${document.getElementById('hotelName').textContent}</b>`);
    
        // Preenche a lista de atrações e adiciona marcadores no mapa
        fillAttractions(attractions);
        attractions.forEach(attr => {
          var attrMarker = L.marker(attr.coordinates).addTo(map);
          attrMarker.bindPopup(`<b>${attr.name}</b> - ${attr.distance}`);
        });
      }
    
      // Preenche a lista de atrações na coluna
      function fillAttractions(attractions) {
        const container = document.getElementById('attractions');
        container.innerHTML = "<h2>Atrações</h2>";
        if (!attractions || attractions.length === 0) return;
        attractions.forEach(attr => {
          const item = document.createElement('div');
          item.className = "attraction-item";
          item.innerHTML = `<i class="fas fa-map-marker-alt"></i> ${attr.name} - ${attr.distance}`;
          container.appendChild(item);
        });
      }
    
      // Atualiza a tabela de quartos com base nos valores informados na barra de busca
      window.updateRoomList = function() {
        const numRooms = parseInt(document.getElementById('rooms').value) || 1;
        const numAdults = parseInt(document.getElementById('adults').value) || 1;
        const numChildren = parseInt(document.getElementById('children').value) || 0;
        const totalGuests = numAdults + numChildren;
        document.querySelectorAll('.room-table-row').forEach(row => {
          const maxGuests = parseInt(row.getAttribute('data-max-guests'));
          if (totalGuests > maxGuests) {
            row.style.display = "none";
          } else {
            row.style.display = "grid";
            const price = parseFloat(row.querySelector('.room-price').getAttribute('data-price'));
            const totalPrice = (numNoites * price) * numRooms;
            let dailyRateText = numNoites <= 0 ? 'Clique em pesquisar' : (totalPrice / numNoites).toFixed(2);
            row.querySelector('.room-price').innerHTML = `
              <p class="discount-price">R$ <span class="pix-price">${totalPrice.toFixed(2)}</span> <br>
              <span style="font-size: 0.8em; color: green;">Super desconto no Pix</span></p>
              <div class="price-info">
                <p>ou R$ <span class="installment-price">${(totalPrice / 10).toFixed(2)}</span> em até 10x sem juros</p>
                <div class="daily-price-container">
                  <p style="font-weight: normal;">Preço por diária: R$ <span>${dailyRateText}</span></p>
                </div>
              </div>
            `;
          }
        });
      };
    
      // Inicializa o Date Range Picker usando jQuery e daterangepicker
      $('#checkin-checkout').daterangepicker({
        locale: {
          format: 'DD/MM/YYYY',
          daysOfWeek: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'],
          monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro']
        },
        opens: 'center',
        drops: 'down',
        autoApply: false,
        autoUpdateInput: false
      }, function(start, end) {
        numNoites = end.diff(start, 'days');
        if (numNoites <= 0) numNoites = 1;
        document.getElementById('num-noites').textContent = numNoites;
        $('#checkin-checkout').val(start.format('DD/MM/YYYY') + " - " + end.format('DD/MM/YYYY'));
        updateRoomList();
      });
    
      // Chama a função de carregamento dos detalhes do hotel (substitua pela chamada real da API)
      fetchHotelDetails().then(loadHotelDetails);
    });  
  </script>
</body>
</html>
